{"data":{"file":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAVABQDASIAAhEBAxEB/8QAGQABAQADAQAAAAAAAAAAAAAAAAQBAgUD/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwIB/9oADAMBAAIQAxAAAAGXEfnO2KxXytBY6QBP/8QAGxAAAgIDAQAAAAAAAAAAAAAAAQIDEQASIiH/2gAIAQEAAQUC2qMsrDRjkh7U+9ZIKYC8jNp//8QAFxEBAAMAAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPwFlQ//EABkRAAEFAAAAAAAAAAAAAAAAAAABECExQf/aAAgBAgEBPwGWwWz/xAAbEAACAgMBAAAAAAAAAAAAAAAAEQEhAxAxgf/aAAgBAQAGPwK2dsYo5BBWReaRB//EABwQAAICAwEBAAAAAAAAAAAAAAERACExQVFhcf/aAAgBAQABPyHzg5KmRyuAZAwYJ2aHFOw5Qmlybntx2y3CnEl/Z//aAAwDAQACAAMAAAAQOyi8/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAERMUH/2gAIAQMBAT8QUXCB6YR//8QAGhEAAgIDAAAAAAAAAAAAAAAAAAERMSFBsf/aAAgBAgEBPxByVkzvonYxY//EAB0QAQEAAwACAwAAAAAAAAAAAAERACFBMVFhcbH/2gAIAQEAAT8Q6uhuUW+P3HKhIpbqr8JMNj2KrvBpVoF3uLYUDX3imLRSGt4ck1onhy7wNT0XD24jIs1n/9k=","aspectRatio":0.9657118055555556,"src":"/static/avatar-820706df6fdb07a9b021a790449fec17-381d6.jpg","srcSet":"/static/avatar-820706df6fdb07a9b021a790449fec17-62f05.jpg 200w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-dc2b4.jpg 400w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-381d6.jpg 800w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-e5d70.jpg 1200w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-d14e0.jpg 1600w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-9cc71.jpg 2225w","srcWebp":"/static/avatar-820706df6fdb07a9b021a790449fec17-fefde.webp","srcSetWebp":"/static/avatar-820706df6fdb07a9b021a790449fec17-5eed2.webp 200w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-68e3c.webp 400w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-fefde.webp 800w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-300fe.webp 1200w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-ed5bd.webp 1600w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-9442a.webp 2225w","sizes":"(max-width: 800px) 100vw, 800px"}}},"site":{"siteMetadata":{"title":"Kostas Bariotis' Blog","description":"Senior full stack engineer <a href=\"https://geekbot.io\">@geekbot_io</a>, co-organizer of <a href=\"https://devitconf.org\">@devitconf</a> & <a href=\"https://www.meetup.com/Thessaloniki-Node-js-Meetup/\">@skgnodejs</a>, host of <a href=\"http://devastation.tv\">Devastation Podcast</a>.","siteUrl":"https://kostasbariotis.com"}},"mainPost":{"html":"<p><a href=\"https://github.com/vlucas/phpdotenv\" target=\"_blank\">https://github.com/vlucas/phpdotenv</a></p>\n<p>For a while now, i've been using <a title=\"Symfony's YAML Component\" href=\"http://symfony.com/doc/current/components/yaml/introduction.html\" target=\"_blank\">Symfony's YAML</a> to add a configuration file on my PHP projects.</p>\n<p>Today, i stumbled upon <a title=\"Vance Lucas\" href=\"http://vancelucas.com/\" target=\"_blank\">Vance Lucas's</a> PHPDotEnv which is a great PHP package that will transfer the contents of a .env file right inside your PHP's $<em>ENV variable. Available through &#x3C;a title=\"PHP Composer\" href=\"<a href=\"http://getcomposer.org\" target=\"_blank\" rel=\"noreferrer noopener\">http://getcomposer.org</a>\" target=\"</em>blank\">Composer</a> too.</p>\n<p>Easiest method to add configuration files to your PHP projects ever!</p>","excerpt":"https://github.com/vlucas/phpdotenv For a while now, i've been using  Symfony's YAML  to add a configuration file on my PHP projects. Today…","frontmatter":{"date":"August 31, 2014","path":"/add-configuration-file-to-your-php-projects/","tags":"php","title":"Add configuration file to your PHP Projects","draft":null}},"nextPost":{"html":"<p>Last week an unusual bug really got me some time until i figured out.</p>\n<p>Common symptoms are Magento not creating your product's images cache without a reason or when trying to upload product's image and an error says 'Memory limit reached'.</p>\n<p>A lot of resources on the Internet says that you have to increase your PHP's memory limit. But when i checked my PHP's configuration i noticed that memory limit was to -1, which means that a s<a title=\"PHP Docs : Memory Limit\" href=\"http://php.net/manual/en/ini.core.php#ini.memory-limit\" target=\"_blank\">cript is allowed to allocate all your available memory</a>. Hmm, that's interesting. Hmmm, that's interesting.</p>\n<p>I followed the stacktrace and i found this (lib/Varien/Image/Adapter/Gd2.php):</p>\n<div class=\"gatsby-highlight\" data-language=\"php\">\n      <pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">protected</span> <span class=\"token keyword\">function</span> <span class=\"token function\">_isMemoryLimitReached</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token variable\">$limit</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&amp;</span>gt<span class=\"token punctuation\">;</span><span class=\"token function\">_convertToByte</span><span class=\"token punctuation\">(</span><span class=\"token function\">ini_get</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'memory_limit'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$size</span> <span class=\"token operator\">=</span> <span class=\"token function\">getimagesize</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&amp;</span>gt<span class=\"token punctuation\">;</span>_fileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$requiredMemory</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$size</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token variable\">$size</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token function\">memory_get_usage</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token variable\">$requiredMemory</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;</span>gt<span class=\"token punctuation\">;</span> <span class=\"token variable\">$limit</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">protected</span> <span class=\"token keyword\">function</span> <span class=\"token function\">_convertToByte</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$memoryValue</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">stripos</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$memoryValue</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'M'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>int<span class=\"token punctuation\">)</span><span class=\"token variable\">$memoryValue</span> <span class=\"token operator\">*</span> <span class=\"token number\">1024</span> <span class=\"token operator\">*</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">elseif</span> <span class=\"token punctuation\">(</span><span class=\"token function\">stripos</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$memoryValue</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'KB'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>int<span class=\"token punctuation\">)</span><span class=\"token variable\">$memoryValue</span> <span class=\"token operator\">*</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>int<span class=\"token punctuation\">)</span><span class=\"token variable\">$memoryValue</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>There you have it. The author here doesn't check for when memory_limit is set to -1. Instead he assumes that it will be always set to form of XXM or XXKB.</p>\n<p>So in case you have bumped into the above symptoms check out that your PHP's memory limit is not set to infinite.</p>","excerpt":"Last week an unusual bug really got me some time until i figured out. Common symptoms are Magento not creating your product's images cache…","frontmatter":{"date":"August 30, 2014","path":"/magentovarien-lib-php-memory_limit-1-bug/","tags":"magento","title":"Magento(Varien lib) & PHP memory_limit -1 bug","draft":null}}},"pageContext":{"jsonName":"add-configuration-file-to-your-php-projects-a6c","internalComponentName":"ComponentAddConfigurationFileToYourPhpProjects","path":"/add-configuration-file-to-your-php-projects/","component":"/home/travis/build/kbariotis/kostasbariotis.com/src/templates/blog-post.js","componentChunkName":"component---src-templates-blog-post-js","context":{"mainPostPath":"/add-configuration-file-to-your-php-projects/","nextPostPath":"/magentovarien-lib-php-memory_limit-1-bug/"},"updatedAt":1529439934264,"pluginCreator___NODE":"Plugin default-site-plugin","pluginCreatorId":"Plugin default-site-plugin","componentPath":"/home/travis/build/kbariotis/kostasbariotis.com/src/templates/blog-post.js","mainPostPath":"/add-configuration-file-to-your-php-projects/","nextPostPath":"/magentovarien-lib-php-memory_limit-1-bug/"}}