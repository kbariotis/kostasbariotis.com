{"data":{"file":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAVABQDASIAAhEBAxEB/8QAGQABAQADAQAAAAAAAAAAAAAAAAQBAgUD/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwIB/9oADAMBAAIQAxAAAAGXEfnO2KxXytBY6QBP/8QAGxAAAgIDAQAAAAAAAAAAAAAAAQIDEQASIiH/2gAIAQEAAQUC2qMsrDRjkh7U+9ZIKYC8jNp//8QAFxEBAAMAAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPwFlQ//EABkRAAEFAAAAAAAAAAAAAAAAAAABECExQf/aAAgBAgEBPwGWwWz/xAAbEAACAgMBAAAAAAAAAAAAAAAAEQEhAxAxgf/aAAgBAQAGPwK2dsYo5BBWReaRB//EABwQAAICAwEBAAAAAAAAAAAAAAERACExQVFhcf/aAAgBAQABPyHzg5KmRyuAZAwYJ2aHFOw5Qmlybntx2y3CnEl/Z//aAAwDAQACAAMAAAAQOyi8/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAERMUH/2gAIAQMBAT8QUXCB6YR//8QAGhEAAgIDAAAAAAAAAAAAAAAAAAERMSFBsf/aAAgBAgEBPxByVkzvonYxY//EAB0QAQEAAwACAwAAAAAAAAAAAAERACFBMVFhcbH/2gAIAQEAAT8Q6uhuUW+P3HKhIpbqr8JMNj2KrvBpVoF3uLYUDX3imLRSGt4ck1onhy7wNT0XD24jIs1n/9k=","aspectRatio":0.9657118055555556,"src":"/static/avatar-820706df6fdb07a9b021a790449fec17-381d6.jpg","srcSet":"/static/avatar-820706df6fdb07a9b021a790449fec17-62f05.jpg 200w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-dc2b4.jpg 400w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-381d6.jpg 800w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-e5d70.jpg 1200w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-d14e0.jpg 1600w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-9cc71.jpg 2225w","srcWebp":"/static/avatar-820706df6fdb07a9b021a790449fec17-fefde.webp","srcSetWebp":"/static/avatar-820706df6fdb07a9b021a790449fec17-5eed2.webp 200w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-68e3c.webp 400w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-fefde.webp 800w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-300fe.webp 1200w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-ed5bd.webp 1600w,\n/static/avatar-820706df6fdb07a9b021a790449fec17-9442a.webp 2225w","sizes":"(max-width: 800px) 100vw, 800px"}}},"site":{"siteMetadata":{"title":"Kostas Bariotis' Blog","description":"Senior full stack engineer <a href=\"https://geekbot.io\">@geekbot_io</a>, co-organizer of <a href=\"https://devitconf.org\">@devitconf</a> & <a href=\"https://www.meetup.com/Thessaloniki-Node-js-Meetup/\">@skgnodejs</a>, host of <a href=\"http://devastation.tv\">Devastation Podcast</a>.","siteUrl":"https://kostasbariotis.com"}},"mainPost":{"html":"<p>I was in the need to be able to automatically create a machine on <a href=\"https://digitalocean.com\" target=\"_blank\" rel=\"noreferrer noopener\">DigitalOcean</a> for my personal projects, provision it and then upload an app and run it. Then I wanted to be able to deploy it again later on or make changes to the infrastructure in a more controlled way.</p>\n<p>I wanted to automate the whole process so I can save some time and spend it on actually writing code.</p>\n<h2 id=\"the-problem\"><a href=\"#the-problem\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The problem</h2>\n<p>Up until recently, bootstrapping of my personal projects looked like this:</p>\n<ul>\n<li>I would create a DigitalOcean droplet</li>\n<li>I would ssh into it after I have added my SSH key</li>\n<li>I would put a simple configuration, install dependencies, node.js runtime, etc</li>\n<li>Clone my project from Git</li>\n<li>Install nginx and set it as a reverse proxy for the node.js application</li>\n<li>Run it</li>\n<li>Leave it there</li>\n</ul>\n<p>Whenever I wanted to release a new version, I would log into the droplet pull the repo and restart the node app. The same procedure would be for every other stack I have been playing around.</p>\n<h2 id=\"my-options\"><a href=\"#my-options\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>My options</h2>\n<p>So I did my homework upfront and came up with these:</p>\n<h3 id=\"docker\"><a href=\"#docker\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker</h3>\n<p>Using <a href=\"https://www.docker.com/\" target=\"_blank\" rel=\"noreferrer noopener\">Docker</a>, I was able to describe my stack inside a <a href=\"https://docs.docker.com/compose/\" target=\"_blank\" rel=\"noreferrer noopener\">single file</a>, put it on the server and run it. The server would still have to be there somehow. I would still have to provision the server or have one server that would host many Docker containers. Also, Docker needs to rebuild on every change of the application.</p>\n<p>I thought it was far away from what I was looking for.</p>\n<h3 id=\"terraform\"><a href=\"#terraform\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Terraform</h3>\n<p><a href=\"https://www.terraform.io/\" target=\"_blank\" rel=\"noreferrer noopener\">Terraform</a> allows you to describe your stack and use it across all major platforms. It supports AWS, DigitalOcean, etc. The thing I didn't like was that it doesn't support provisioning of the server. You have to put a <a href=\"https://puppet.com/\" target=\"_blank\" rel=\"noreferrer noopener\">puppet</a> or <a href=\"https://www.chef.io/chef/\" target=\"_blank\" rel=\"noreferrer noopener\">chef</a> to actually provision the servers, if some, in your infrastructure.</p>\n<p>I believe that Terraform would be much more suitable in an AWS infrastructure where you don't always need to provision something. Not all your infrastructure is going to be ElasticBeanstalk machines. But it is a great choice just to create and configure the dependent services like Lambda, SNS, SQS, API Gateway.</p>\n<p>Not for my needs.</p>\n<h3 id=\"ansible\"><a href=\"#ansible\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ansible</h3>\n<p><a href=\"https://www.ansible.com/\" target=\"_blank\" rel=\"noreferrer noopener\">Ansible</a> is an automation tool for running commands on a remote server. Ansible can do anything that you would do from the command line. It even comes with modules so you can create a DigitalOcean droplet in a <a href=\"http://docs.ansible.com/ansible/digital_ocean_module.html\" target=\"_blank\" rel=\"noreferrer noopener\">single command</a>.</p>\n<p>You can actually describe the above procedure in a single file and run it as many times as you like. Ansible will make sure that every time only the needed changes would run. You can run it once and build the application without even an existing DigitalOcean droplet. Alternatively, you can run it with an existing droplet and it will just pull your application and rerun it.</p>\n<p>I’m not going to get into detail about how ansible works, my friend <a href=\"https://www.stavros.io/posts/example-provisioning-and-deployment-ansible/\" target=\"_blank\" rel=\"noreferrer noopener\">Stavros</a> has written a nice post where he explains much more about it. Before that, start <a href=\"http://docs.ansible.com/ansible/intro_getting_started.html\" target=\"_blank\" rel=\"noreferrer noopener\">from the documentation</a>. It's there after all, isn't it?</p>\n<p>So, write an Ansible file (playbook in Ansible glossary) with the commands that you would run on the remote server. Use this file every time! That's it.</p>\n<h2 id=\"solution\"><a href=\"#solution\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Solution</h2>\n<p>I decided to go with Ansible. Ansible documentation isn't that extensive but with a little digging around you can actually find any missing information. It's <a href=\"https://github.com/ansible/ansible\" target=\"_blank\" rel=\"noreferrer noopener\">open source</a> so you can read the code and see how a module works for yourself. <a href=\"https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/cloud/digital_ocean/digital_ocean.py\" target=\"_blank\" rel=\"noreferrer noopener\">Try it</a>, it's not that hard! Also, Github is full of Ansible repositories. A lot of which you can grab from <a href=\"https://galaxy.ansible.com/\" target=\"_blank\" rel=\"noreferrer noopener\">Ansible Galaxy, Ansible's registry for playbooks</a>. It comes with a package manager as well.</p>\n<p>So I started hacking around and I ended up with an <a href=\"https://github.com/kbariotis/ansible-nodejs-digitalocean\" target=\"_blank\" rel=\"noreferrer noopener\">Ansible playbook</a> that will do all the above. It's configurable so I can just copy paste it on my new project and run it to create the droplet and provision it.</p>\n<p>It also supports adding a domain that is pointing to the created droplet. Plus it will generate a <a href=\"https://letsencrypt.org\" target=\"_blank\" rel=\"noreferrer noopener\">Let's Encrypt</a> certificate for the specified domain.</p>\n<p>So you will:</p>\n<ul>\n<li>Get a domain name and point it to DigitalOcean's nameservers. Remember to wait for the propagation to happen.</li>\n<li>Run this playbook once and... Boom! You're ready to go!</li>\n</ul>\n<p>The playbook requires a bit knowledge of Ansible to hack the <a href=\"https://github.com/kbariotis/ansible-nodejs-digitalocean/blob/master/tasks/project.yml\" target=\"_blank\" rel=\"noreferrer noopener\">tasks/project.yml</a> and set it to your specific needs. Yeah, I had the exact same reaction! Don't be alarmed! It's easier that you think!</p>\n<h2 id=\"getting-started\"><a href=\"#getting-started\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Getting started</h2>\n<p>I will include a quick getting started kind of block here. There's detailed documentation over on <a href=\"https://github.com/kbariotis/ansible-nodejs-digitalocean/blob/master/README.md\" target=\"_blank\" rel=\"noreferrer noopener\">project's README</a> file.</p>\n<ol>\n<li>\n<p>Start by <a href=\"http://docs.ansible.com/ansible/intro_installation.html\" target=\"_blank\" rel=\"noreferrer noopener\">installing Ansible</a> on your local machine.</p>\n</li>\n<li>\n<p>Clone the repo. Adjust your settings at <a href=\"https://github.com/kbariotis/ansible-nodejs-digitalocean/blob/master/defaults/vars.yml\" target=\"_blank\" rel=\"noreferrer noopener\">defaults/vars.yml</a>. Required variables are the <code class=\"language-text\">system_user</code> which is the owner of the project on the remote server, <code class=\"language-text\">domain</code>, <code class=\"language-text\">do_token</code> (<a href=\"https://cloud.digitalocean.com/settings/api/tokens\" target=\"_blank\" rel=\"noreferrer noopener\">get yours</a>) and <code class=\"language-text\">repository</code> which is your repository.</p>\n</li>\n<li>\n<p>Then run under the project's root directory:\n<code class=\"language-text\">ansible-playbook main.yml --tags=launch</code></p>\n</li>\n</ol>\n<p>The <code class=\"language-text\">launch</code> tag will create the droplet, configure it and set it to run the application specified on <code class=\"language-text\">repository</code> variable.</p>\n<ol start=\"4\">\n<li>Now we have to instruct it on how to run your project. So start hacking the <a href=\"https://github.com/kbariotis/ansible-nodejs-digitalocean/blob/master/tasks/project.yml\" target=\"_blank\" rel=\"noreferrer noopener\">tasks/project.yml</a> which also includes an example of a simple Node.js project.</li>\n</ol>\n<p>The example project will:</p>\n<ul>\n<li>gitpull your repo using the <a href=\"http://docs.ansible.com/ansible/git_module.html\" target=\"_blank\" rel=\"noreferrer noopener\">gitpull module</a></li>\n<li>install project's dependencies using the <a href=\"http://docs.ansible.com/ansible/npm_module.html\" target=\"_blank\" rel=\"noreferrer noopener\">npm module</a> as well as global dependencies like <code class=\"language-text\">wepback</code> and <code class=\"language-text\">pm2</code></li>\n<li>build your repo using <code class=\"language-text\">webpack</code></li>\n<li>start it using <code class=\"language-text\">pm2</code></li>\n</ul>\n<p>That's it.</p>\n<p>Thanks for reading this! Write your comments down below or <a href=\"https://github.com/kbariotis/ansible-nodejs-digitalocean/issues\" target=\"_blank\" rel=\"noreferrer noopener\">open an issue</a> if you find a bug!</p>\n<p><em>I am deploying this blog using the above playbook. It's a <a href=\"https://ghost.org/\" target=\"_blank\" rel=\"noreferrer noopener\">Ghost</a> blog and you can find the theme's source code <a href=\"https://github.com/kbariotis/kostasbariotis.com\" target=\"_blank\" rel=\"noreferrer noopener\">here</a>.</em></p>","excerpt":"I was in the need to be able to automatically create a machine on  DigitalOcean  for my personal projects, provision it and then upload an…","frontmatter":{"date":"December 15, 2016","path":"/deploying-nodejs-applications-digitalocean-ansible/","tags":null,"title":"Deploying Node.js Applications on DigitalOcean using Ansible","draft":null}},"nextPost":{"html":"<p>If you, like me, like to host simple little sites of yours on GitHub Pages, I am sure you have already reached the moment when you wanted to send emails from that site but you didn't know how to. This is how I did it.</p>\n<p><a href=\"http://devastation.tv\" target=\"_blank\" rel=\"noreferrer noopener\">devastation.tv</a>, my podcast for developers (for the time in Greek only) is hosted on <a href=\"https://github.com/kbariotis/devastation-podcast\" target=\"_blank\" rel=\"noreferrer noopener\">GitHub Pages</a> with a custom domain that I have purchased from <a href=\"https://namecheap.com\" target=\"_blank\" rel=\"noreferrer noopener\">Namecheap</a>. I wanted to be able to send email campaigns to my subscribers whenever a new episode is out.</p>\n<p><a href=\"https://mailchimp.com\" target=\"_blank\" rel=\"noreferrer noopener\">Mailchimp</a> helped me a lot on my first campaigns but I would send those emails using my personal Gmail account, which is both ugly for the subscriber to see and is <a href=\"http://kb.mailchimp.com/accounts/email-authentication/about-dmarc?_ga=1.191860521.246269979.1477844435\" target=\"_blank\" rel=\"noreferrer noopener\">also dangerous</a> cause it may end up in my subscriber's Spam folder.</p>\n<p>Last but not least, I knew my subscriber list would take a long time until it go big and I didn't want to pay for a paid subscription, e.g. to Gmail for Work (£3.30 per user per month). I had to find a cheaper way, and Mailchimp has a great starter package with up to 2,000 subscribers and 12,000 emails per month.</p>\n<p>So here's a simple solution that involves having your site hosted on GitHub Pages, using Mailchimp for sending email campaigns and Namecheap as your domain registrar.</p>\n<h2 id=\"receiving-emails\"><a href=\"#receiving-emails\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Receiving emails</h2>\n<p>For receiving emails, Namecheap has this great <a href=\"https://www.namecheap.com/support/knowledgebase/article.aspx/308/76/how-can-i-set-up-free-email-forwarding-for-my-domain\" target=\"_blank\" rel=\"noreferrer noopener\">email forwarding feature</a> that allows you to forward an incoming email to your domain in an external email. So I put my personal Gmail email there and I am able to receive emails.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/Screen-Shot-2016-10-30-at-18-09-54-ac29928edd2828fa9fbc8c52fda0d42c-4812a.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 750px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 22.45989304812834%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAlElEQVQY01WPbQvDIAyE/f9/s4PugyusLZrEl9sFtLjAg/HMJTHs+xvb9oKZoZSCGCNUFbVWtNb+6R05ZwjfO/P1ze9OyCJILJqiNxM2M+Zl0jrMNXKz/kwJmQtMrdB7UfNBAWvQ7CHnF+n4IN8X5Dog6XzMjvInztpQOMC1MFd9YENTgXJr31YlQU1RhtGp41ypgx+KjDpeBPTnrQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Hello\"\n        title=\"\"\n        src=\"/static/Screen-Shot-2016-10-30-at-18-09-54-ac29928edd2828fa9fbc8c52fda0d42c-cd462.png\"\n        srcset=\"/static/Screen-Shot-2016-10-30-at-18-09-54-ac29928edd2828fa9fbc8c52fda0d42c-92f91.png 188w,\n/static/Screen-Shot-2016-10-30-at-18-09-54-ac29928edd2828fa9fbc8c52fda0d42c-dc30f.png 375w,\n/static/Screen-Shot-2016-10-30-at-18-09-54-ac29928edd2828fa9fbc8c52fda0d42c-cd462.png 750w,\n/static/Screen-Shot-2016-10-30-at-18-09-54-ac29928edd2828fa9fbc8c52fda0d42c-4812a.png 1122w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2 id=\"sending-emails\"><a href=\"#sending-emails\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sending emails</h2>\n<p>Now Mailchimp allows you to <a href=\"http://kb.mailchimp.com/accounts/email-authentication/set-up-custom-domain-authentication-dkim-and-spf\" target=\"_blank\" rel=\"noreferrer noopener\">add a custom domain</a> to be able to send emails that originated from that domain. You need to verify this domain before you're able to send emails, so all you have to do is add a few records in your DNS settings and you are good to go. These are the instructions from Mailchimp.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/Screen-Shot-2016-10-30-at-18-01-50-6248fdc0dee20a1690e4200ef89d2e12-71720.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 750px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 71.4663143989432%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAAB30lEQVQ4y5VUy4riUBD1V10JblyLIqj4D6IIKr62unLR3QpuevAvfHcn5mFiTNR4ps7tTpix2xm64FAntyqVOlWXJJLJJHq9HtrtNvr9vvLNZhPdbhetVgu1Wg2NRkNxotPpYDAYqNx7pFIpJHK5HB7Z6XSCaZqwLEv5/X4Pz/O+5IVhiPP5jGKxiEQ2m8XlcsHxeFTgC5FnQcL3AwRBINwX7qvYn2CMpgrm83l1uNlssF6vFcg1TcNqucRW+EbOdtstFotFnLdarbDb7bCUHMMwVMFSqfQhme1SFgOURpC/GybeDEtgKrifKiKwe9d1FY8LRpJZkLBt+7OwAd06QD84eDdtaJYNLx6BH4PNRBYX5Ax0XVdDZzFyVVRgsdu9xHRNnXMUzCOiPBb+S/JNtuRI0JWgKwWiZdzjeCeZoGSqut1uKJfLHwUp2T4cYDsOHEmwJIHPJq8LxyDckRhfeoQvS9Fke7psklBcNkiv8Uw45bOb78CP0eIO+QVPDj0J0p/E+yJHQa4UEcicHo0iuuzxUr6zSMpV5hv+A9frVSG+2IVCAfP5HKPRCOPxGMPhEL9eX8GphPiZVSoVJNLptPoRVKtV1Ot15fkDeJ5M8PT8gul0ionw/2E2myGTyeA318rxh0maPuUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Screen Shot 2016 10 30 at 18 01 50\"\n        title=\"\"\n        src=\"/static/Screen-Shot-2016-10-30-at-18-01-50-6248fdc0dee20a1690e4200ef89d2e12-cd462.png\"\n        srcset=\"/static/Screen-Shot-2016-10-30-at-18-01-50-6248fdc0dee20a1690e4200ef89d2e12-92f91.png 188w,\n/static/Screen-Shot-2016-10-30-at-18-01-50-6248fdc0dee20a1690e4200ef89d2e12-dc30f.png 375w,\n/static/Screen-Shot-2016-10-30-at-18-01-50-6248fdc0dee20a1690e4200ef89d2e12-cd462.png 750w,\n/static/Screen-Shot-2016-10-30-at-18-01-50-6248fdc0dee20a1690e4200ef89d2e12-71720.png 757w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>And this is a screenshot from my DNS configuration from Namecheap.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/Screen-Shot-2016-10-30-at-18-06-05-5ca42794a3c0ac6dcb755f73c3c35a2b-e767d.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 750px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 40.229885057471265%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAAA5UlEQVQoz21Siw7EIAjb///rvXI6H+i4lslCljNpBDu7Cmy1d82laB9DG1BFrry0hrhqn9O4CONxl/f9ruC7TRDstSn3gQPuDaKMuwzNtV65BDDnOUXHcWjDnnLWbS7iwCEXd4/J0QF/EjnnTRQ8l0AjpXQKmu0lOoGxBIzDs3kpijn4XRTMl8MgSDCmq7liOrk7NEEri5xuWbp9hyAIq0l4Mkn+yMU9J/RWEhecLkgn+fvVgoS2ZTXGG8SiG9rZ0dgUinmXEyYjUbBzbJ4PzZ+3Fhy21WXDGo+If+Ozo84v1I8j9wN3snaO8Fq17AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Screen Shot 2016 10 30 at 18 06 05\"\n        title=\"\"\n        src=\"/static/Screen-Shot-2016-10-30-at-18-06-05-5ca42794a3c0ac6dcb755f73c3c35a2b-cd462.png\"\n        srcset=\"/static/Screen-Shot-2016-10-30-at-18-06-05-5ca42794a3c0ac6dcb755f73c3c35a2b-92f91.png 188w,\n/static/Screen-Shot-2016-10-30-at-18-06-05-5ca42794a3c0ac6dcb755f73c3c35a2b-dc30f.png 375w,\n/static/Screen-Shot-2016-10-30-at-18-06-05-5ca42794a3c0ac6dcb755f73c3c35a2b-cd462.png 750w,\n/static/Screen-Shot-2016-10-30-at-18-06-05-5ca42794a3c0ac6dcb755f73c3c35a2b-1de4a.png 1125w,\n/static/Screen-Shot-2016-10-30-at-18-06-05-5ca42794a3c0ac6dcb755f73c3c35a2b-e767d.png 1131w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>The first three records are my GitHub Pages DNS records for the redirection to work. The last two are the Mailchimp records that are needed for the verification process. <strong>Be careful cause they are not the same as the picture above. Won't work on Namecheap as is.</strong></p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/Screen-Shot-2016-10-30-at-19-06-36-b90904f5803577b2ccb01a457b960c6f-0ff98.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 750px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 49.11575562700965%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABUUlEQVQoz41S2U7DMBDM/39WhRAPBVX0gXAIcrQRbS7bsZ3DSQaviQMPRTTSZFd7zO4kG+hWomkEpCTbQAgOzgUEK6AkQ9t20Fpb2zqQ/xsUo96qqmyvQJB9NGC1sCQMSmlM07TAYJ4nzIC1swX+fCg/DIND0LAerbZbtBpd162JYTDOGmOx2L7vnRrOuR2uXJ5ivocWCWjCOI5rkAoo4Sf3RGzsBgaLP64qfL0npfqAXsaYNegJvcRTrbF9Vbh5apGeGkyzl4nLhJS8ROg2t9skbxnubl+w2YR4fowghfomnObrCX++NlCeBKpPBlE0yLMaQz+u6X8JCeRzIdzplGUJqSSUVu4kyLLangdjy48y/xOS3MPhgIf7LXa7Hfb7PcIwRJ4XKIoC57LCuebo+isJR+vnQiLMciRpitQiiiLEcYwkifGeHnEsrHRbZy5I/gK2fAgfmeIs/gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Screen Shot 2016 10 30 at 19 06 36\"\n        title=\"\"\n        src=\"/static/Screen-Shot-2016-10-30-at-19-06-36-b90904f5803577b2ccb01a457b960c6f-cd462.png\"\n        srcset=\"/static/Screen-Shot-2016-10-30-at-19-06-36-b90904f5803577b2ccb01a457b960c6f-92f91.png 188w,\n/static/Screen-Shot-2016-10-30-at-19-06-36-b90904f5803577b2ccb01a457b960c6f-dc30f.png 375w,\n/static/Screen-Shot-2016-10-30-at-19-06-36-b90904f5803577b2ccb01a457b960c6f-cd462.png 750w,\n/static/Screen-Shot-2016-10-30-at-19-06-36-b90904f5803577b2ccb01a457b960c6f-1de4a.png 1125w,\n/static/Screen-Shot-2016-10-30-at-19-06-36-b90904f5803577b2ccb01a457b960c6f-0ff98.png 1244w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>So how do you handle your emails when on GitHub Pages?</p>","excerpt":"If you, like me, like to host simple little sites of yours on GitHub Pages, I am sure you have already reached the moment when you wanted to…","frontmatter":{"date":"October 30, 2016","path":"/sending-and-receiving-emails-with-a-site-hosted-on-github-pages/","tags":"Github, GithubPages","title":"Sending and receiving emails when on GitHub Pages","draft":null}}},"pageContext":{"jsonName":"deploying-nodejs-applications-digitalocean-ansible-537","internalComponentName":"ComponentDeployingNodejsApplicationsDigitaloceanAnsible","path":"/deploying-nodejs-applications-digitalocean-ansible/","component":"/home/travis/build/kbariotis/kostasbariotis.com/src/templates/blog-post.js","componentChunkName":"component---src-templates-blog-post-js","context":{"mainPostPath":"/deploying-nodejs-applications-digitalocean-ansible/","nextPostPath":"/sending-and-receiving-emails-with-a-site-hosted-on-github-pages/"},"updatedAt":1529439934161,"pluginCreator___NODE":"Plugin default-site-plugin","pluginCreatorId":"Plugin default-site-plugin","componentPath":"/home/travis/build/kbariotis/kostasbariotis.com/src/templates/blog-post.js","mainPostPath":"/deploying-nodejs-applications-digitalocean-ansible/","nextPostPath":"/sending-and-receiving-emails-with-a-site-hosted-on-github-pages/"}}